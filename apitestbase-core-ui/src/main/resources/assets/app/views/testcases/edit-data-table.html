<div ng-controller="DataTableController" ng-init="findByTestcaseId()">
  <div class="form-group">
    <div class="btn-group col-lg-2" uib-dropdown keyboard-nav>
      <button type="button" class="btn btn-info dropdown-toggle" uib-dropdown-toggle
              ng-disabled="appStatus.isForbidden()">
        Add Column <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" uib-dropdown-menu role="menu">
        <li role="menuitem"><a ng-click="addColumn('String')" href="">String Column</a></li>
        <li role="menuitem"><a ng-click="addColumn('DBEndpoint')" href="">DB Endpoint Column</a></li>
      </ul>
    </div>
    <div class="col-lg-2">
      <button class="btn btn-info" ng-click="addRow()" ng-disabled="appStatus.isForbidden()">Add Row</button>
    </div>
  </div>
  <div class="form-group">
    <div class="col-lg-12">
      <div ng-if="activeTabIndex === DATA_TABLE_TAB_INDEX && dataTable" ui-grid="dataTableGridOptions"
           ui-grid-move-columns ui-grid-resize-columns ui-grid-edit ui-grid-cellNav class="ui-grid"
           id="testcase-datatable-grid" ng-style="styleOfMajorElementOnSelectedTab"></div>
    </div>
  </div>
</div>

<!-- data table grid cell templates -->
<script type="text/ng-template" id="dataTableGridEditableHeaderCellTemplate.html">
  <div class="ui-grid-cell-contents">
    <input type="text" class="form-control" ng-model="col.name" irt-select="true"
           ng-keypress="grid.appScope.afterColumnNameEdit(col, $event)"
           ng-keydown="grid.appScope.afterColumnNameEdit(col, $event)"
           ng-blur="grid.appScope.afterColumnNameEdit(col)">
  </div>
</script>
<script type="text/ng-template" id="dataTableGridStringCellTemplate.html">
  <div class="ui-grid-cell-contents">{{ COL_FIELD.value }}</div>
</script>
<script type="text/ng-template" id="dataTableGridCaptionEditableCellTemplate.html">
  <div class="ui-grid-cell-contents">
    <input type="text" class="form-control" ui-grid-editor ng-model="MODEL_COL_FIELD"
           ng-readonly="grid.appScope.appStatus.isForbidden()">
  </div>
</script>
<script type="text/ng-template" id="dataTableGridStringEditableCellTemplate.html">
  <div class="ui-grid-cell-contents" ng-dblclick="grid.appScope.stringCellDblClicked(row.entity, col)">
    <textarea class="form-control udp-grid-string-editable-cell-textarea" ui-grid-editor ng-model="MODEL_COL_FIELD"
              spellcheck="false" ng-readonly="grid.appScope.appStatus.isForbidden()"></textarea>
  </div>
</script>
<script type="text/ng-template" id="dataTableGridEndpointCellTemplate.html">
  <div class="ui-grid-cell-contents" ng-click="grid.appScope.appStatus.isForbidden() ?
      angular.noop() : grid.appScope.selectManagedEndpoint(row.entity, col)">
    {{ COL_FIELD.endpoint ? COL_FIELD.endpoint.environment.name + '#' + COL_FIELD.endpoint.name : ''}}
  </div>
</script>
<script type="text/ng-template" id="dataTableGridDeleteCellTemplate.html">
  <div class="ui-grid-cell-contents">
    <a ng-click="grid.appScope.appStatus.isForbidden() ? angular.noop() : grid.appScope.deleteRow(row.entity)"
       ng-class="{'no-underline' : grid.appScope.appStatus.isForbidden()}" href="">
      <i class="glyphicon glyphicon-trash center-block text-center"></i>
    </a>
  </div>
</script>